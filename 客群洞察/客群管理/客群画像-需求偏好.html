<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="../../css/DMPbase.css"/>
    <link rel="stylesheet" href="../../css/DmpFine.css"/>
    <link rel="stylesheet" href="../../js/My97DatePicker/skin/WdatePicker.css"/>
    <style>
        .halfwidth {width: calc(50% - 10px);
        }
        .eacharttab{height: 300px}
        .toggleMain-items .toggleMain-item.selected{background-color: #FFD6C2;color: #FF5400;}
        .tablebd {height: 300px;overflow-y: auto;width: 100%;  }
        .tablebd table{width: 100%}
        .tablebd table td:first-child{width: 80px;border-right: 1px solid #dfdfdf}
        .tablebd table td:nth-child(2){text-align: left;padding-left: 20px}
        .DmpFine-mainBox ::-webkit-scrollbar-track
        {
            /*-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);*/
            border-radius: 0px;
            background-color: #F5F5F5;
            box-sizing: border-box;
        }

        .DmpFine-mainBox ::-webkit-scrollbar
        {
            width: 6px;
            background-color: #F5F5F5;
            box-sizing: border-box;
        }

        .DmpFine-mainBox ::-webkit-scrollbar-thumb
        {
            border-radius: 4px;
            /*-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);*/
            background-color: #999;
        }
    </style>
</head>
<body style="width: 1080px">
<div class="DmpFine-title">
    <div class="DmpFine-titleLeft DmpFine-textcolor3">
        <a href="javaScript:;">客群画像</a>
    </div>
    <div class="DmpFine-titleRight">
    </div>
</div>
<div class="DmpFine-mainBox">
    <div class="DmpFine-toggleMain">
        <div class="toggleMain-items clearfix">
            <div class="toggleMain-item fl" flag="false">基础画像</div>
            <div class="toggleMain-item fl selected" flag="true">需求偏好</div>
            <div class="toggleMain-item fl" flag="true">行为信息</div>
        </div>
    </div>
    <div class="toggle-body clearfix">
        <div class="mb20" style="font-size: 16px">
            武昌站客群,共100人,性别女:56%,年龄30-39:100人,婚姻已婚:70%;
        </div>
        <div class="DmpFine-box clearfix halfwidth mr20 fl mb20">
            <div class="DmpFine-box-title">
                <div class="DmpFine-box-titleLeft">
                    <div class="DmpFine-box-titleLeftText">置业目的</div>
                </div>
                <div class="DmpFine-box-titleRight"><span class="bigger-icon" uuid='eacharttab1'></span></div>
            </div>
            <div class="DmpFine-box-body clearfix">
                <div class="eacharttab" id="eacharttab1">

                </div>
            </div>
        </div>
        <div class="DmpFine-box clearfix halfwidth fl mb20">
            <div class="DmpFine-box-title">
                <div class="DmpFine-box-titleLeft">
                    <div class="DmpFine-box-titleLeftText">置业意向</div>
                </div>
                <div class="DmpFine-box-titleRight"><span class="bigger-icon" uuid='eacharttab'></span></div>
            </div>
            <div class="DmpFine-box-body clearfix">
                <div class="eacharttab" id="eacharttab">

                </div>
            </div>
        </div>
        <div class="DmpFine-box clearfix halfwidth mr20 fl mb20">
            <div class="DmpFine-box-title">
                <div class="DmpFine-box-titleLeft">
                    <div class="DmpFine-box-titleLeftText">需求类型</div>
                </div>
                <div class="DmpFine-box-titleRight"></div>
            </div>
            <div class="DmpFine-box-body clearfix">
                <div class="eacharttab">

                </div>
            </div>
        </div>
        <div class="DmpFine-box clearfix halfwidth fl mb20">
            <div class="DmpFine-box-title">
                <div class="DmpFine-box-titleLeft">
                    <div class="DmpFine-box-titleLeftText">需求面积</div>
                </div>
                <div class="DmpFine-box-titleRight"></div>
            </div>
            <div class="DmpFine-box-body clearfix">
                <div class="eacharttab">

                </div>
            </div>
        </div>
        <div class="DmpFine-box clearfix halfwidth mr20 fl mb20">
            <div class="DmpFine-box-title">
                <div class="DmpFine-box-titleLeft">
                    <div class="DmpFine-box-titleLeftText">意向价格</div>
                </div>
                <div class="DmpFine-box-titleRight"></div>
            </div>
            <div class="DmpFine-box-body clearfix">
                <div class="eacharttab">

                </div>
            </div>
        </div>
        <div class="DmpFine-box clearfix halfwidth fl mb20">
            <div class="DmpFine-box-title">
                <div class="DmpFine-box-titleLeft">
                    <div class="DmpFine-box-titleLeftText">关注焦点</div>
                </div>
                <div class="DmpFine-box-titleRight"></div>
            </div>
            <div class="DmpFine-box-body clearfix">
                <div class="eacharttab">

                </div>
            </div>
        </div>
        <div class="DmpFine-box clearfix halfwidth mr20 fl mb20">
            <div class="DmpFine-box-title">
                <div class="DmpFine-box-titleLeft">
                    <div class="DmpFine-box-titleLeftText">需求户型</div>
                </div>
                <div class="DmpFine-box-titleRight"></div>
            </div>
            <div class="DmpFine-box-body clearfix">
                <div class="eacharttab">
                </div>
            </div>
        </div>
        <div class="DmpFine-box clearfix halfwidth fl mb20">
            <div class="DmpFine-box-title">
                <div class="DmpFine-box-titleLeft">
                    <div class="DmpFine-box-titleLeftText">需求楼层</div>
                </div>
                <div class="DmpFine-box-titleRight"></div>
            </div>
            <div class="DmpFine-box-body clearfix">
                <div class="eacharttab">
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script src="../../js/jquery-2.2.4.min.js"></script>
<script src="../../js/DmpFine.js"></script>
<script src="../../js/echarts.min.js"></script>
<script>
    /*基本画像*/
    sexTable($('#eacharttab')[0]);
    /*性别*/
    function sexTable(obj) {
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(obj);

        option = {
            title: {
                show: false,
                text: '某站点用户访问来源',
                subtext: '纯属虚构',
                x: 'center'
            },
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} "
            },
            legend: {
                show: false,
                orient: 'vertical',
                left: 'left',
                data: []
            },
            color: [
                new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                    offset: 0,
                    color: '#12adf1' // 0% 处的颜色
                }, {
                    offset: 1,
                    color: '#12c3f1' // 100% 处的颜色
                }], false),
                new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                    offset: 0,
                    color: '#6b8bff' // 0% 处的颜色
                }, {
                    offset: 1,
                    color: '#6ba1ff' // 100% 处的颜色
                }], false)],
            series: [
                {
                    name: '性别',
                    type: 'pie',
                    radius: '70%',
                    center: ['50%', '50%'],
                    data: [
                        {
                            value: 335,
                            name: '男',
                        },
                        {
                            value: 310,
                            name: '女',
                        },
                    ],
                    labelLine: {
                        normal: {
                            show: false
                        }
                    },
                    label: {
                        normal: {
                            show: false,
                        }
                    }
                }
            ]
        };
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);

    }
    ageTable();
    /*年龄*/
    function ageTable() {

        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init($('#eacharttab1')[0]);

        option = {
            color: ['#3398DB'],
            tooltip: {
                trigger: 'axis',
                axisPointer: { // 坐标轴指示器，坐标轴触发有效
                    type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            grid: {
                left: '3%',
                right: '7%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: [
                {
                    type: 'category',
                    data: ['20岁以下', '20-29岁', '30-39岁', '40-49岁', '50岁以上'],
                    axisTick: {
                        alignWithLabel: true
                    },
                    splitLine: {
                        show: false,
                        lineStyle: {
                            type: 'dashed',
                            color: 'rgba(154,179,238,0.10)'
                        }
                    },
                    axisLine: {
                        lineStyle: {
                            color: '#9ab3ee',
                            type: 'solid',
                        }
                    },
                    axisLabel: {
                        textStyle: {
                            color: "#a5a6bb"
                        }
                    }
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    splitLine: {
                        show: false,
                        lineStyle: {
                            color: '#e4ebf7'
                        }
                    },
                    axisLine: {
                        lineStyle: {
                            color: '#9ab3ee',
                            type: 'solid',
                        }
                    },
                    axisLabel: {
                        textStyle: {
                            color: "#a5a6bb"
                        }
                    }
                }
            ],
            series: [
                {
                    name: '直接访问',
                    type: 'bar',
                    barWidth: '50',
                    data: [10, 52, 200, 334, 390],
                    itemStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 2, [{
                                offset: 0,
                                color: '#12c4f1' // 0% 处的颜色
                            }, {
                                offset: 1,
                                color: '#12abf1' // 100% 处的颜色
                            }], false)
                        }
                    },
                }
            ]
        };


        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);

    }
    bigger();
    function bigger(){
        $('.bigger-icon').click(function(){
            var id = $(this).attr('uuid');
            var width = $('#'+id).width();
            var height = $('#'+id).height();
            var present = width/height;
            var topwin = window.top.document;
            $(topwin).find('.DmpFine-confirm').show();
            var num1 = $(topwin).find('#earcharts').width()/present;
            var num2 = $(topwin).height()*0.9;
            $(topwin).find('#earcharts').height( num1>num2?num2:num1);
            var myChart = echarts.init($(topwin).find('#earcharts')[0]);
            var opt = echarts.getInstanceByDom($('#'+id)[0]).getOption();
            myChart.setOption(opt);
            $(topwin).find('#earcharts').css('backgroundColor','#ffffff');
        });
    }
</script>
</html>